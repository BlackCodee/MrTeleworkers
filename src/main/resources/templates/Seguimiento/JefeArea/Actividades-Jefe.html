<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">

<head>
<meta charset="utf-8" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<script
	src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.0/jquery.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/raphael/2.1.0/raphael-min.js"></script>
<link rel="stylesheet" href="/css/morris.css">
<script src="/js/morris.min.js"></script>
<link rel="stylesheet" href="/css/bootstrap.min.css">

<title>Crear Usuario</title>
<meta
	content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no'
	name='viewport' />
<!--     Fonts and icons     -->
<link
	href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200"
	rel="stylesheet" />
<link
	href="https://maxcdn.bootstrapcdn.com/font-awesome/latest/css/font-awesome.min.css"
	rel="stylesheet">
<link rel="stylesheet"
	href="https://use.fontawesome.com/releases/v5.8.1/css/all.css"
	integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf"
	crossorigin="anonymous">

<!-- CSS  -->
<link rel="stylesheet" href="/css/recursos-humanos-usuarios-estilos.css">
<link href="/assets/css/bootstrap.min.css" rel="stylesheet" />
<!-- <link href="/assets/css/paper-dashboard.css?v=2.0.0" rel="stylesheet" /> -->
<link rel="stylesheet" href="/css/estilosSlider.css">
<link href="/assets/demo/demo.css" rel="stylesheet" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons"
	rel="stylesheet">
<!--  Datatables  -->
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/v/bs4/dt-1.10.20/datatables.min.css" />

<!--   Enlaces   -->
<script src="/assets/js/core/jquery.min.js"></script>
<script src="/assets/js/core/popper.min.js"></script>
<script src="/assets/js/core/bootstrap.min.js"></script>
<!--   Datatables-->
<script type="text/javascript"
	src="https://cdn.datatables.net/v/bs4/dt-1.10.20/datatables.min.js"></script>

<!-- extension responsive -->
<script
	src="https://cdn.datatables.net/responsive/2.2.3/js/dataTables.responsive.min.js"></script>
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css">
<script
	src="https://cdn.datatables.net/v/bs4-4.1.1/dt-1.10.18/datatables.min.js"></script>
<!-- Buttons -->
<link rel="stylesheet"
	href="https://cdn.datatables.net/buttons/1.6.2/css/buttons.dataTables.min.css">
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/dataTables.buttons.min.js"></script>
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.html5.min.js"></script>
<script
	src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.53/build/pdfmake.min.js"></script>
<script
	src="https://cdn.rawgit.com/bpampuch/pdfmake/0.1.53/build/vfs_fonts.js"></script>
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.flash.min.js"></script>
<script
	src="https://cdn.datatables.net/buttons/1.6.2/js/buttons.print.min.js"></script>
<script
	src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>


<!--  extension responsive  -->
<link rel="stylesheet" type="text/css"
	href="https://cdn.datatables.net/responsive/2.2.3/css/responsive.dataTables.min.css">
<!-- ALERTAS -->
<style>
#mydatatable tfoot input {
	width: 100% !important;
}

#mydatatable tfoot {
	display: table-header-group !important;
}
</style>
<style>
table thead {
	background-color: #383636;
}
</style>
<link href="/assets/css/sweetalert.css" rel="stylesheet" type="text/css">
<script src="/assets/js/sweetalert.min.js" type="text/javascript"></script>
<script>
	function eliminarActividadLaboral(actividadLaboral){
		swal({
	  title: "Esta seguro de eliminar?",
	  text: "Once deleted, you will not be able to recover this imaginary file!",
	  icon: "warning",
	  buttons: true,
	  dangerMode: true,
	})
	.then((OK) => {
	  if (OK) {
		$.ajax({
			url:"/eliminarActividadLaboral/"+actividadLaboral,
			success: function(res){
				console.log(res);
			}
			
			});
	    swal("Poof! Your imaginary file has been deleted!", {
	      icon: "success",
	      }).then((ok)=> {
		if(ok){
			location.href="/listarActividadLaboral";
		}
	    });
	  } else {
	    swal("Your imaginary file is safe!");
	  }
	});
		
	}
        </script>
</head>


<body>
	<!--inicio header-->
	<header class=" py-1 mb-0 bg-dark ">
		<div
			class="container d-flex flex-wrap align-items-center justify-content-center justify-content-lg-start">
			<button type="button">
				<img src="assets/message.svg" alt=""
					class="menu-bar bi me-2 bg-light text-light">
			</button>

			<ul class="nav col-12 col-md-10 mb-2 justify-content-center mb-md-0">
				<li><a href="#" class="nav-link px-8 text-light">JEFE DE AREA</a></li>
			</ul>

			<div class="col-md-1 text-center">
				<form class="d-flex" th:action="@{/logout}" method="post">
					<input class="btn btn-outline-light me-2" type="submit"
						value="Salir" />
				</form>
			</div>
		</div>
	</header>
	<!--fin del header-->
	<!--inicio menu slider-->
	<div class="sidebar">
		<h2>MRTW</h2>
		<ul class="list">
			<li class="list__item">
				<div class="list__button">
					<img src="/assets/dashboard.svg" class="list__img"> <a
						th:href="@{/dashboard-Jefe}" class="nav__link">Inicio</a>
				</div>
			</li>

			<li class="list__item list__item--click">
				<div class="list__button list__button--click">
					<img src="/assets/docs.svg" class="list__img"> <a href="#"
						class="nav__link">SEGUIMIENTO EMPLEADO</a> <img
						src="/assets/arrow.svg" class="list__arrow">
				</div>

				<ul class="list__show">
					<li class="list__inside"><a
						class="nav__link nav__link--inside"
						th:href="@{/listarActividadLaboral}">Actividades del area
							laboral</a></li>

					<li class="list__inside"><a
						class="nav__link nav__link--inside"
						th:href="@{/newActividadLaboral}">Creacion Eventos</a></li>

					<li class="list__inside"><a
						class="nav__link nav__link--inside"
						th:href="@{/listarCapacitacionesJefe}">Capacitaciones</a></li>
				</ul>

			</li>

		</ul>
	</div>
	<!--Fin menu slider-->
	<!--Comienzo contenido de la pagina-->
	<div class="contenido">
		<div class="container">
			<div class="row">
				<div class="col-lg-12 col-md-6">
					<br>
					<center>
						<h1 class="font-weight-bold mb-0">Bienvenido</h1>
						<p class="lead text-muted">Creacion de actividades</p>
					</center>
				</div>

			</div>
			<br> <br> <br>
			<div class="row">
				<div class="col-md-12">
					<div class="card">
						<div class="card-header">
							<center class=" col-md-10">
								<h4 class="card-title">Creacion de Actividades</h4>
							</center>
								<div class="col-md-2">
								<a
								class="pdf btn btn-danger"
								th:href="@{/report/actividades/download?fechaInicio=2019-10-10&fechaFin=2030-10-10&tipo=PDF}"><i
								class="fas fa-file-pdf"></i>
								</a>
								<a th:href="@{/newActividadLaboral}">
								<button class="btn btn-success btn-xs">Nuevo</button>
								</a>
								</div>
						</div>
						<div class="card-body">
							<div class="table-responsive  col-11 ml-5"
								id="mydatatable-container">
								<table
									class="records_list table table-striped table-bordered table-hover"
									id="mydatatable">
									<thead class=" text-black">
										<th style="color: white;">NÂ°</th>
										<th style="color: white;">NOMBRE</th>
										<th style="color: white;">FECHA</th>
										<th style="color: white;">HORA ENTREGA</th>
										<th style="color: white;">AREA</th>
										<th style="color: white;">ESTADO</th>
										<th style="color: white;">ACCIONES</th>

									</thead>
									<tbody>
										<tr th:each="actividadLaboral:${actividadLaboral}" th:if="${actividadLaboral.estado} == activo">
											<th th:text="${actividadLaboral.idActividad}"></th>
											<th th:text="${actividadLaboral.Nombre_Actividad}"></th>
											<th th:text="${actividadLaboral.fechaEntrega}"></th>
											<th th:text="${actividadLaboral.horaEntrega}"></th>
											<th th:text="${actividadLaboral.idArea.idArea}"></th>
											<th th:text="${actividadLaboral.estado}"></th>

											<td>
											<a
												th:href="@{/listarEntregables/}+${actividadLaboral.idActividad}"
												class="btn btn-info txt-light"><img border="0" r6="true"
													src="/img/icono-ver.png" width="20" height="20">
											</a>
											
											<a
												th:href="@{/editarActividadLaboral/}+${actividadLaboral.idActividad}"
												class="btn btn-info txt-light"><img border="0" r6="true"
													src="/img/boton-editar.png" width="20" height="20">
											</a>



												<button type="button" class="btn btn-success"
													data-toggle="modal" data-target="#exampleModal"
													th:attr="data-target='#exampleModal'+${actividadLaboral.idActividad}">
													<i class="fas fa-screwdriver"></i>
												</button></td>
											<!-- Modal -->
											<div class="modal fade"
												th:attr="id='exampleModal'+${actividadLaboral.idActividad}"
												tabindex="-1" aria-labelledby="exampleModalLabel"
												aria-hidden="true">
												<div class="modal-dialog">
													<div class="modal-content">
														<div class="modal-header">
															<h5 class="modal-title" id="exampleModalLabel">Inactivar Actividad</h5>
															<button type="button" class="close" data-dismiss="modal"
																aria-label="Close">
																<span aria-hidden="true">&times;</span>
															</button>
														</div>
														<div class="modal-body">
															Desea cambiar el estado de la Actividad <span
																th:text="${actividadLaboral.Nombre_Actividad}"></span>?
														</div>
														<div class="modal-footer">
															<button type="button" class="btn btn-secondary"
																data-dismiss="modal">Close</button>
															<span th:if="${actividadLaboral.estado == 'activo'}"><a
																th:href="@{/estadoActividad(idActividad=${actividadLaboral.idActividad})}"
																type="button" class="btn btn-danger">INACTIVO</a></span> <span
																th:if="${actividadLaboral.estado == 'inactivo'}"><a
																th:href="@{/estadoActividad(idActividad=${actividadLaboral.idActividad})}"
																type="button" class="btn btn-warning">ACTIVO</a></span>
														</div>
													</div>
												</div>
											</div>
											<!-- Modal -->
										</tr>

									</tbody>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--Comienzo contenido del footer-->
		<footer
			class="d-flex flex-wrap justify-content-between align-items-center py-3 my-4 border-top">
			<div class="col-md-4 d-flex align-items-center">
				<ul>
					<li><a href="#" target="_blank"
						class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">MR
							TW</a></li>
					<li><a href="#" target="_blank"
						class="mb-3 me-2 mb-md-0 text-muted text-decoration-none lh-1">CONTACTO</a>
					</li>
				</ul>
			</div>
			<div
				class="col-md-4 d-flex align-items-center justify-content-center mb-3 mb-md-0 me-md-auto link-dark text-decoration-none">
				<span class="copyright"> ÃÂ© <script>
							document.write(new Date().getFullYear())
						</script>, GAES 4 (SENA) </i>
				</span>
			</div>
			<ul class="nav col-md-4 justify-content-end list-unstyled d-flex">
				<li class="ms-3"><a class="text-muted" href="#"><i
						class="fab fa-facebook-square" width="24" height="24">&nbsp;&nbsp;</i></a></li>
				<li class="ms-3"><a class="text-muted" href="#"><i
						class="fab fa-twitter-square" width="24" height="24">&nbsp;&nbsp;</i></a></li>
				<li class="ms-3"><a class="text-muted" href="#"><i
						class="fab fa-google-plus" width="24" height="24">&nbsp;&nbsp;</i></a></li>
			</ul>
		</footer>
		<!--fin contenido del footer-->
	</div>


	<script src="/js/sliderjs.js"></script>
	<script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>

	<script type="text/javascript">
                $(document).ready(function () {
                    $('#mydatatable tfoot th').each(function () {
                        var title = $(this).text();
                        $(this).html('<input type="text" placeholder="Filtrar.." />');
                    });

                    var table = $('#mydatatable').DataTable({
                        "dom": 'B<"float-left"i><"float-right"f>t<"float-left"l><"float-right"p><"clearfix">',
                        "responsive": false,
                        "language": {
                            "url": "https://cdn.datatables.net/plug-ins/1.10.19/i18n/Spanish.json"
                        },
                        "order": [
                            [0, "desc"]
                        ],
                        "initComplete": function () {
                            this.api().columns().every(function () {
                                var that = this;

                                $('input', this.footer()).on('keyup change', function () {
                                    if (that.search() !== this.value) {
                                        that
                                                .search(this.value)
                                                .draw();
                                    }
                                });
                            })
                        },

                        "buttons": ['csv', 'excel', 'pdf', 'print']
                    });
                });
            </script>

</body>

</html>
